{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Posts/Posts.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Posts/Posts.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileDescription.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Posts","props","className","s","posts","posts_img","src","alt","info_posts","posts_item","message","like","maxLength50","maxLengthCreator","Textarea","Element","MyPosts","React","memo","postArr","state","postsDate","map","el","likesCount","id","main_posts","post_title","new_posts","MyPostsReduxForm","onSubmit","formData","console","log","addPost","post","reduxForm","form","handleSubmit","Field","name","validate","required","component","add_post","MyPostsСontainer","connect","profilePage","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","type","autoFocus","onBlur","updateStatusThunkCreator","onChange","e","currentTarget","value","Input","editReduxForm","form_input","btn_edit","setIsOwner","ProfileData","contacts","Object","entries","userProfile","title_about","main_name","fullName","main_birth","looking_jog","lookingForAJob","lookingForAJobDescription","main_education","item","contacts_item","main_site","ProfileDescription","isOwner","about_me","btn","ProfileInfo","Preloader","main_flex","icon","photos","small","logo","main_descripttion","target","files","length","setPhoto","ProfileImage","main_picture","main_image","Profile","content","main","MyPostsContainer","store","dispatch","ProfileContainer","updateUserPage","userId","match","params","history","push","profileThunkCreator","getStatusThunkCreator","this","prevProps","prevState","snapshot","setPhotoThunkCreator","Component","compose","isRegistred","auth","initializing","app","withRouter"],"mappings":"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","file":"static/js/3.63b4598d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ProfileInfo_main__12zbj\",\"main_flex\":\"ProfileInfo_main_flex__2AC5c\",\"icon\":\"ProfileInfo_icon__vhqZ5\",\"main_descripttion\":\"ProfileInfo_main_descripttion__3JaHZ\",\"contacts_item\":\"ProfileInfo_contacts_item__1xfE9\",\"title_about\":\"ProfileInfo_title_about__1zlA7\",\"btn\":\"ProfileInfo_btn__358l3\",\"about_me\":\"ProfileInfo_about_me__2fqCF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Posts_content__2DxJO\",\"main_image\":\"Posts_main_image__Rt8T9\",\"main\":\"Posts_main__p4A3G\",\"icon\":\"Posts_icon__BF0LT\",\"main_descripttion\":\"Posts_main_descripttion__1el73\",\"posts_img\":\"Posts_posts_img__1c7bk\",\"posts\":\"Posts_posts__1Y7zp\",\"info_posts\":\"Posts_info_posts__2NB3v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2neqp\",\"main_image\":\"Profile_main_image__1NC26\"};","import React from 'react'\r\nimport s from './Posts.module.css'\r\n\r\n\r\nconst  Posts = (props) => {\r\n  return (\r\n    <div className={s.posts}>\r\n      <div className={s.posts_img}><img src=\"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg\" alt=\"\" /></div>\r\n      <div className={s.info_posts}>\r\n        <div className={s.posts_item}>{props.message}</div>\r\n        <span>like {props.like}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Posts","import React from 'react'\r\nimport Posts from './Posts/Posts'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport s from './MyPosts.module.css'\r\nimport { maxLengthCreator, required } from '../../utils/validator/validator'\r\nimport Element from '../../../assets/formControls/formControls'\r\n\r\nconst maxLength50 = maxLengthCreator()\r\n\r\nconst Textarea = Element('textarea')\r\n\r\nconst MyPostsForm = (props) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.handleSubmit}>\r\n        <Field name='post' validate={[required, maxLength50]} component={Textarea}/>\r\n        <button className={s.add_post}>Add post</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n  const postArr = props.state.postsDate.map(el => <Posts message={el.message} like={el.likesCount} key={el.id} />)\r\n\r\n  // Так как мы в react не имеем право взаимодействовать с DOM, потому что у нас есть VIRTUAL DOM, то мы не имеем право обращаться к элементам через document!!!!\r\n\r\n  const AddPostSubmit = (formData) => {\r\n    console.log(formData)\r\n    props.addPost(formData.post)\r\n  }\r\n\r\n  return (\r\n    <div className={s.main_posts}>\r\n      <div className={s.post_title}>My Posts</div>\r\n      <div className={s.new_posts}>\r\n      <MyPostsReduxForm onSubmit={AddPostSubmit} />\r\n      </div>\r\n      {postArr}\r\n    </div>\r\n  )\r\n});\r\n\r\n\r\nconst MyPostsReduxForm = reduxForm({\r\n  form: 'myPosts',\r\n})(MyPostsForm)\r\n\r\n\r\n\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport { addPost } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToProps = (state) => {\r\n  \r\n  return {\r\n    state: state.profilePage\r\n  }\r\n}\r\n \r\n\r\n\r\nlet MyPostsСontainer = connect(mapStateToProps,{addPost})(MyPosts)\r\n\r\n\r\nexport default MyPostsСontainer","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\n\r\n\r\nconst ProfileStatus = (props) => {\r\n  \r\n  const [editMode, setEditMode] = React.useState(false)\r\n  const [status, setStatus] = React.useState(props.status)\r\n\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  const diactiveEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatusThunkCreator(status)\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setStatus(props.status)\r\n  },[props.status])\r\n  \r\n  return (\r\n    <div className=\"about_status\">\r\n      {!editMode && \r\n        <div className=\"current_status\"><span onClick={activateEditMode}>{props.status || '-----'}</span></div>\r\n      }\r\n      {editMode && \r\n        <input type=\"text\" autoFocus={true} onBlur={diactiveEditMode} onChange={onStatusChange} value={status}/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n// class ProfileStatus extends React.Component {\r\n//   state = {\r\n//     editMode: false,\r\n//     status: this.props.status\r\n//   }\r\n\r\n//   activeEditMode = () => {\r\n//     this.setState({\r\n//       editMode: true\r\n//     })\r\n\r\n//   }\r\n\r\n//   diactiveEditMode = () => {\r\n//     this.setState({\r\n//       editMode: false\r\n//     })\r\n//     this.props.updateStatusThunkCreator(this.state.status)\r\n//   }\r\n\r\n//   onStatusChange = (e) => {\r\n//     this.setState({\r\n//       status: e.currentTarget.value\r\n//     })\r\n//   }\r\n//   componentDidUpdate(prevProps, prevState){\r\n//     if(prevProps.status != this.props.status)\r\n//     this.setState({\r\n//       status: this.props.status\r\n//     })\r\n//   }\r\n//   render() {\r\n//     return (\r\n//       <div className=\"about_status\">\r\n//         {!this.state.editMode && \r\n//           <div className=\"current_status\"><span onClick={this.activeEditMode}>{this.props.status || '-----'}</span></div>\r\n//         }\r\n//         {this.state.editMode && \r\n//           <input type=\"text\" autoFocus={true} onChange={this.onStatusChange} value={this.state.status} onClick={this.disactiveEditMode} onBlur={this.diactiveEditMode.bind(this)}/>\r\n//         }\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n\r\n// const ProfileStatus = (props) => {\r\n//   const state = {\r\n//     editMode: false,\r\n//     flag: false\r\n//   }\r\n\r\n\r\n//   return (\r\n//     <div className=\"about_status\">\r\n//       <div className=\"current_status\"><span onClick={toggleEditMode}>{props.status}</span></div>\r\n//       <input type=\"text\" value={props.status} />\r\n//     </div>\r\n//   )\r\n// }\r\n\r\nexport default ProfileStatus","import React from 'react'\r\nimport Element from '../../../assets/formControls/formControls'\r\nimport s from './ProfileInfo.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nconst Input = Element('input')\r\n\r\n\r\nconst ProfileDataForm = (props) => {\r\n  const saveData = () => {\r\n    props.setEditMode(false)\r\n    props.setIsOwner(true)\r\n  }\r\n  return (\r\n    <div>\r\n      <form className={s.form} onSubmit={props.handleSubmit}>\r\n        <div className={s.form_input}>\r\n          full name: <Field type=\"text\"  validate={[]} component={Input} />\r\n        </div>\r\n        <div className={s.form_input}>\r\n          Date of Birta: <Field type=\"text\"validate={[]} component={Input} />\r\n        </div>\r\n        <div>\r\n          lookingForAJob: <Field type=\"text\"validate={[]} component={Input} />\r\n        </div>\r\n        <button className={s.btn_edit} onClick={saveData}>Сохранить изменения</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst editReduxForm = reduxForm({\r\n  form: 'saveData'\r\n})(ProfileDataForm)\r\n\r\nexport default editReduxForm","import React from 'react'\r\nimport ProfileDataForm from './ProfileDataForm'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileDescription = (props) => {\r\n  const [editMode, setEditMode] = React.useState(false)\r\n  const [isOwner, setIsOwner] = React.useState(props.isOwner)\r\n\r\n  const toogleEditMode = () => {\r\n    setEditMode(!editMode)\r\n    setIsOwner(false)\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    console.log(formData)\r\n  }  \r\n  return (\r\n    <div className={s.about_me}>\r\n      {editMode ? <ProfileDataForm setEditMode={setEditMode} setIsOwner={setIsOwner} onSubmit={onSubmit}/> : <ProfileData userProfile={props.userProfile}/>}\r\n      {isOwner && <button className={s.btn} onClick={toogleEditMode}>Редактировать</button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n  let contacts = Object.entries(props.userProfile.contacts)\r\n\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <div className={s.title_about}>ABOUT ME</div>\r\n      <div className={s.main_name}>{props.userProfile.fullName}</div>\r\n      <div className={s.main_birth}>Date of Birt: 24 june</div>\r\n      <div className={s.looking_jog}>lookingForAJob: {props.userProfile.lookingForAJob ? 'true' : 'false'}</div>\r\n      <div className={s.looking_jog}>lookingForAJobDescription: {props.userProfile.lookingForAJobDescription ? 'true' : 'false'}</div>\r\n      <div className={s.main_education}>Higher education</div>\r\n      {contacts.map(item => {\r\n        return <div className={s.contacts_item}>{item[0]} : {item[1] === '' || item[1] === null ? 'false' : item[1]}</div>\r\n      })}\r\n      <div className={s.main_site}>Web Site: https://it-kamasutra.com</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default ProfileDescription","import React from 'react'\r\nimport Preloader from '../../Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\nimport logo from '../../../assets/image/user.png'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileDescription from './ProfileDescription'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.userProfile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onUpdateImage = (e) => {\r\n    if (e.target.files.length) {\r\n      props.setPhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.main_flex}>\r\n        <div className={s.icon}><img src={props.userProfile.photos.small === null ? logo : props.userProfile.photos.small} alt=\"\" /></div>\r\n        <div className={s.main_descripttion}>\r\n          <ProfileStatus status={props.status} updateStatusThunkCreator={props.updateStatusThunkCreator} />\r\n          <ProfileDescription userProfile={props.userProfile} isOwner={props.isOwner}/>\r\n        </div>\r\n      </div>\r\n      {\r\n        props.isOwner &&\r\n        <div><input type=\"file\" onChange={onUpdateImage} /></div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\nexport default ProfileInfo","import React from 'react'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst  ProfileImage = () => {\r\n  return (\r\n    <div className={s.main_picture}>\r\n      <div className={s.main_image}><img src=\"https://bipbap.ru/wp-content/uploads/2017/10/0_8eb56_842bba74_XL-640x400.jpg\" alt=\"\" /></div>\r\n    </div>\r\n  )\r\n}  \r\n\r\nconst  Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileImage />\r\n      <div className={s.main}>\r\n        <ProfileInfo setPhoto={props.setPhoto} isOwner={props.isOwner} userProfile={props.userProfile} status={props.status} updateStatusThunkCreator={props.updateStatusThunkCreator}/>\r\n        <MyPostsContainer  store={props.store} dispatch={props.store.dispatch} /> \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport { profileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, setPhotoThunkCreator } from '../../redux/profile-reducer'\r\nimport { withRouter } from 'react-router'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  updateUserPage = () => {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.userId\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    this.props.profileThunkCreator(userId)\r\n    this.props.getStatusThunkCreator(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateUserPage()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n      this.updateUserPage()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile  {...this.props} \r\n                isOwner={!this.props.match.params.userId} \r\n                updateStatusThunkCreator={this.props.updateStatusThunkCreator} \r\n                setPhoto={this.props.setPhotoThunkCreator}          \r\n      />\r\n    )\r\n  }\r\n}\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    userProfile: state.profilePage.userProfile,\r\n    status: state.profilePage.status,\r\n    isRegistred: state.auth.isRegistred,\r\n    userId: state.auth.id,\r\n    initializing: state.app.initializing\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { profileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator, setPhotoThunkCreator}),\r\n  withRouter,\r\n)(ProfileContainer)\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer)\r\n\r\n\r\n// let withRouterProfileComponent =  withRouter(AuthRedirectComponent)\r\n\r\n// export default connect(mapStateToProps, { profileThunkCreator })(withRouterProfileComponent)"],"sourceRoot":""}